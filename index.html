<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>No One Shop</title>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<style>
body{
  margin:0;
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg,#0f0f0f,#1a1a1a,#000);
  color:white;
}
.container{
  max-width:420px;
  margin:auto;
  padding:20px;
}
.card{
  background: rgba(255,255,255,0.05);
  border-radius:16px;
  padding:20px;
  margin-bottom:20px;
  box-shadow:0 0 20px rgba(0,0,0,0.5);
}
input,button{
  width:100%;
  padding:12px;
  margin-top:10px;
  border-radius:10px;
  border:none;
}
button{
  background:black;
  color:white;
  font-weight:bold;
}
h1{text-align:center}
</style>
</head>
<body>

<div class="container">
<h1>üî• NO ONE SHOP</h1>

<div class="card">
<h3>‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏ö</h3>
<input id="adminPhone" placeholder="‡πÄ‡∏ö‡∏≠‡∏£‡πå" />
<input id="adminPass" placeholder="‡∏£‡∏´‡∏±‡∏™" type="password" />
<button onclick="adminLogin()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô</button>
</div>

<div class="card">
<h3>‡∏™‡∏°‡∏±‡∏Ñ‡∏£ / ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</h3>
<input id="email" placeholder="Email" />
<input id="password" placeholder="Password" type="password" />
<button onclick="register()">‡∏™‡∏°‡∏±‡∏Ñ‡∏£</button>
<button onclick="login()">Login</button>
</div>

<div class="card" id="shop">
<h3>‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h3>
<div id="productList"></div>
</div>

<div class="card">
<h3>‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô PromptPay</h3>
<input id="amount" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô" />
<button onclick="genQR()">‡∏™‡∏£‡πâ‡∏≤‡∏á QR</button>
<div id="qr"></div>
</div>

</div>

<script>
const supabaseUrl = "https://fmykgxcnrbzjcwsezthk.supabase.co";
const supabaseKey = "YOUR_ANON_KEY";
const db = supabase.createClient(supabaseUrl, supabaseKey);

// ADMIN LOGIN
function adminLogin(){
  const phone = document.getElementById("adminPhone").value;
  const pass = document.getElementById("adminPass").value;

  if(phone === "0637695934" && pass === "1669"){
    alert("‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à");
  }else{
    alert("‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
  }
}

// REGISTER
async function register(){
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;

  const {error} = await db.auth.signUp({email,password});
  if(error) alert(error.message);
  else alert("‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à");
}

// LOGIN
async function login(){
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;

  const {error} = await db.auth.signInWithPassword({email,password});
  if(error) alert(error.message);
  else alert("‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à");
}

// PRODUCTS DEMO
const products = [
  {name:"‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ A",price:100},
  {name:"‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ B",price:200}
];

function loadProducts(){
  const el = document.getElementById("productList");
  products.forEach(p=>{
    el.innerHTML += `<div>${p.name} - ${p.price} ‡∏ö‡∏≤‡∏ó <button onclick="buy(${p.price})">‡∏ã‡∏∑‡πâ‡∏≠</button></div>`;
  });
}
loadProducts();

function buy(price){
  document.getElementById("amount").value = price;
  alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô");
}

// PROMPTPAY QR
function genQR(){
  const amount = document.getElementById("amount").value;
  const phone = "1159900533798";
  const url = `https://promptpay.io/${phone}/${amount}`;
  document.getElementById("qr").innerHTML = `<img src="${url}" width="200">`;
}
</script>

</body>
</html>
